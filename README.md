# cpp-transport-catalogue

## Описание
Транспортный справочник поддерживает следующие функции:
- Хранение данных (положение и название) об остановках и данных о машрутах, проходящих между ними.
- Обработка входных и выходных запросов в формате json.
- Отрисовка карты маршрутов в формате svg.
- Поиск оптимального маршрута (роутинг).
- Сериализация данных в файл.

## Требования
- C++17
- Protobuf 3

## Сборка
Для сборки проекта необохдимо установить Protobuf в соответствии с инструкциями.
https://github.com/protocolbuffers/protobuf
После установки Protobuf 3, воспользуйтесь утилитой cmake для сборки проекта с помощью файла CMakeLists.txt

## Использование

Программа работает в двух режимах, которые необходимо указывать в качестве аргументов командной строки:
1) make_base 
Этот режим получает запросы из потока ввода, в формате .json чтобы создать базу. Сами по себе запросы представляют из себя массив словарей, где ключ - это тип запроса, а значение может представлено различными параматерами.
Типы запросы в make_base могут быть следующими:

    1) base_request - добавление остановки или автобусного маршрута в базу данных.
    Информация об остановках содержит название, координаты и расстояния до других остановок.
    Информация об автобусных маршрутах содержит название маршрута, остановки на нем, а так же признак, ялвяется ли маршрут кольцевым.
    2) render_settings - содержит различные настройки для отрисовки .svg файла.
    3) routing_settings - содержит настройки для сериализатора, которых всего две - время ожидания автобуса на остановке и скорость автобуса.
    4) serialization_settings - этот запрос содержит в себе путь к файлу, в который все вышеперечисленный вещи будут сериализовываться.
    
2) process_request
В этом режиме из потока ввода программа считывает запросы к уже существующей базе. Запросы так же читаются из .json файла и у них так же есть тип:
    1) Bus - выведет информацию об автобусном маршруте.
    2) Stop - выведет инофрмацию об остановки и о том, какие машруты через нее проходят.
    3) Map - данный запрос отрисует .svg файл с данными о машрутах и остановках.
    4) Rout - с помощью данного запроса можно найти наименее затратный по времени машрут между двумя остановками.
